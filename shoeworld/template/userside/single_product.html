{% extends 'userside/base.html' %}
{% load static %}
{% block title %}product details{% endblock title%}
{% block content %}

	<style>
		.variant-box.selected {
			background-color: orange;  /* Active background color */
			border-color: #155724;      /* Active border color */
			color: white;               /* Active text color */
		}
	
		.variant-box:hover {
			cursor: pointer;
			background-color: #f8f9fa;  /* Light gray on hover */
		}
		.price-container {
            display: flex;
            align-items: baseline;
        }
        .price-container h2 {
            margin-right: 25px; 
        }
        .l-through {
            text-decoration: line-through;
            color: black;
        }
		.img-zoom-container {
			position: relative;
			overflow: hidden;
		}
		.zoom-img {
			transition: transform 0.5s ease;
		}
			
		.btn-outline-light-brown {
			color: #6c5c3d; /* Darker brown for text */
			border: 1px solid #d2b48c; /* Light brown border */
			background-color: #f5f5dc; /* Light brown background */
		}

		.btn-outline-light-brown:hover {
			color: #fff; /* White text on hover */
			background-color: #d2b48c; /* Darker light brown on hover */
			border-color: #6c5c3d; /* Dark brown border on hover */
		}
		.star-rating .star {
			font-size: 2rem;
			cursor: pointer;
			color: #d3d3d3; /* Default star color */
		}
		
		.star-rating .star.selected,
		.star-rating .star.hovered {
			color: #f5c518; /* Gold color for selected/hovered stars */
		}
		
		.star-rating .star:hover {
			color: #f5c518; /* Same color on hover */
		}
		.starr{
			padding-left:35px;
			padding-top:10px;
		}
		.revcom{
			padding-left:15px;
		}
		.star-rating-display {
			font-size: 2rem;
			cursor: pointer;
			color: #d3d3d3;
			.star {
				font-size: 2rem;
				color: #ccc; /* Light gray for unfilled stars */
			}
			
			.star.filled {
				color: gold; /* Gold for filled stars */
			}
			
			.star.selected {
				color: gold; /* Gold for selected stars */
			}
			
			.star.hovered {
				color: orange; /* Orange for hovered stars */
			}
			
			.star.blink {
				animation: blink 1s infinite;
			}
		}
			
			@keyframes blink {
				0%, 100% {
					opacity: 1;
				}
				50% {
					opacity: 0;
				}
			}
			
	</style>
	

	<!-- Start Banner Area -->

	<!-- End Banner Area -->
	<section class="banner-area organic-breadcrumb" style="height:180px;">
		<div class="container">
			<div class="breadcrumb-banner d-flex flex-wrap align-items-center justify-content-end">
				<div class="col-first">
					<h1></h1>
					<nav class="d-flex ">
					  {% comment %} <a href="">Home<span class="lnr lnr-arrow-right"></span></a> {% endcomment %}
						{% comment %} <a href="">Cart</a>  {% endcomment %}
					</nav>
				</div>
			</div>
		</div>
	</section>
	<!--================Single Product Area =================-->
	<div class="product_image_area" style="margin-top:-100px;">
		<div class="container">
			<div class="row s_product_inner">
				
				
			
<div class="col-lg-6">
    <div id="s_Product_carousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            <!-- Main Product Thumbnail -->
            <div class="carousel-item active">
                <div class="img-zoom-container">
                    <img id="myimage-0" class="d-block w-100 img-fluid zoom-img" src="{{ products.thumbnail.url }}" alt="Main product image">
                </div>
            </div>
            
            <!-- Additional Product Images -->
            {% for image in images %}
                <div class="carousel-item">
                    <div class="img-zoom-container">
                        <img id="myimage-{{ forloop.counter }}" class="d-block w-100 img-fluid zoom-img" src="{{ image.images.url }}" alt="Product image {{ forloop.counter }}">
                    </div>
                </div>
            {% empty %}
                <div class="carousel-item">
                    <p>No additional images available for this product.</p>
                </div>
            {% endfor %}
        </div>
        <a class="carousel-control-prev" href="#s_Product_carousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true" style="filter: invert(100%);"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#s_Product_carousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true" style="filter: invert(100%);"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>
</div>

			
<div class="col-lg-5 offset-lg-1">
    <div class="s_product_text">
        <h3>{{ products.product_name }}</h3>
        <div class="price-container">
            <h2>₹{{ products.offer_price }}</h2>
            <h4 class="l-through">₹{{ products.price }}</h4>
        </div>
		<div>
			<h4 style="color:orange;">Product Discount : {{products.percentage_discount}}%</h4>
		</div>
        <ul class="list">
            {% if not products.is_active %}
            <li>
                <span class="text-danger font-weight-bold">Unavailable</span>
            </li>
            {% else %}
            <li><a href="#"><span></span></a></li>
            {% endif %}
            <li><a class="active" href=""><span>Category</span>: {{ category }}</a></li>
            <li><a class="active" href=""><span>Brand</span>: {{ brand}}</a></li>
        </ul>

        <p>{{ products.product_description }}</p>
        <strong>Available Sizes:</strong>
<div class="d-flex flex-wrap mt-2">
    {% for variant in variants %}
    <div class="variant-box btn btn-outline-light-brown text-dark m-1 {{ forloop.first|yesno:'selected,' }}" 
         onclick="selectVariant(this)" data-variant-id="{{ variant.id }}">
        {{ variant.size }}
    </div>
    {% endfor %}
</div>
<input type="hidden" id="selectedVariantInput" name="selected_variant" value="{{ variants.0.id }}">


        
        <br>
		<div class="product_count" style="display: none;">
			<label for="qty">Quantity:</label>
			<input type="text" name="qty" id="sst" maxlength="12" value="1" title="Quantity:" 
				   class="input-text qty" min="1" max="5" readonly>
			<button onclick="incrementQuantity()" class="increase items-count" type="button">
				<i class="lnr lnr-chevron-up"></i>
			</button>
			<button onclick="decrementQuantity()" class="reduced items-count" type="button">
				<i class="lnr lnr-chevron-down"></i>
			</button>
		</div>
        
        <br>
        <div class="card_area d-flex align-items-center">
            <a class="primary-btn" href="#" id="addToCartBtn">Add to Cart</a>
			<a class="icon_btn" href="#" id="addToWishlistBtn">
				<i class="lnr lnr-heart"></i>
			</a>
			

        </div>
        {% comment %} <a class="icon_btn" href="#"><i class="lnr lnr lnr-diamond"></i></a>
        <a class="icon_btn" href="#"><i class="lnr lnr lnr-heart"></i></a> {% endcomment %}
    </div>
</div>
			</div>
		</div>
	</div>
	<!--================End Single Product Area =================-->

	<!--================Product Description Area =================-->
	<section class="product_description_area">
		<div class="container">
			<ul class="nav nav-tabs" id="myTab" role="tablist">
				{% comment %} <li class="nav-item">
					<a class="nav-link" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Description</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile"
					 aria-selected="false">Specification</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact"
					 aria-selected="false">Comments</a>
				</li> {% endcomment %}
				<li class="nav-item">
					<a class="nav-link" id="review-tab" data-toggle="tab" href="#review" role="tab" aria-controls="review"
					 aria-selected="false"><span style="font-weight: bold;">Reviews<span></a>
				</li>
			</ul>
			<div class="tab-content" id="myTabContent">
				{% comment %} <div class="tab-pane fade" id="home" role="tabpanel" aria-labelledby="home-tab">
					<p>Beryl Cook is one of Britain’s most talented and amusing artists .Beryl’s pictures feature women of all shapes
						and sizes enjoying themselves .Born between the two world wars, Beryl Cook eventually left Kendrick School in
						Reading at the age of 15, where she went to secretarial school and then into an insurance office. After moving to
						London and then Hampton, she eventually married her next door neighbour from Reading, John Cook. He was an
						officer in the Merchant Navy and after he left the sea in 1956, they bought a pub for a year before John took a
						job in Southern Rhodesia with a motor company. Beryl bought their young son a box of watercolours, and when
						showing him how to use it, she decided that she herself quite enjoyed painting. John subsequently bought her a
						child’s painting set for her birthday and it was with this that she produced her first significant work, a
						half-length portrait of a dark-skinned lady with a vacant expression and large drooping breasts. It was aptly
						named ‘Hangover’ by Beryl’s husband and</p>
					<p>It is often frustrating to attempt to plan meals that are designed for one. Despite this fact, we are seeing
						more and more recipe books and Internet websites that are dedicated to the act of cooking for one. Divorce and
						the death of spouses or grown children leaving for college are all reasons that someone accustomed to cooking for
						more than one would suddenly need to learn how to adjust all the cooking practices utilized before into a
						streamlined plan of cooking that is more efficient for one person creating less</p>
				</div>
				<div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
					<div class="table-responsive">
						<table class="table">
							<tbody>
								<tr>
									<td>
										<h5>Width</h5>
									</td>
									<td>
										<h5>128mm</h5>
									</td>
								</tr>
								<tr>
									<td>
										<h5>Height</h5>
									</td>
									<td>
										<h5>508mm</h5>
									</td>
								</tr>
								<tr>
									<td>
										<h5>Depth</h5>
									</td>
									<td>
										<h5>85mm</h5>
									</td>
								</tr>
								<tr>
									<td>
										<h5>Weight</h5>
									</td>
									<td>
										<h5>52gm</h5>
									</td>
								</tr>
								<tr>
									<td>
										<h5>Quality checking</h5>
									</td>
									<td>
										<h5>yes</h5>
									</td>
								</tr>
								<tr>
									<td>
										<h5>Freshness Duration</h5>
									</td>
									<td>
										<h5>03days</h5>
									</td>
								</tr>
								<tr>
									<td>
										<h5>When packeting</h5>
									</td>
									<td>
										<h5>Without touch of hand</h5>
									</td>
								</tr>
								<tr>
									<td>
										<h5>Each Box contains</h5>
									</td>
									<td>
										<h5>60pcs</h5>
									</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
					<div class="row">
						<div class="col-lg-6">
							<div class="comment_list">
								<div class="review_item">
									<div class="media">
										<div class="d-flex">
											<img src="{% static 'userside/assets/img/product/review-1.png' %}" alt="">
										</div>
										<div class="media-body">
											<h4>Blake Ruiz</h4>
											<h5>12th Feb, 2018 at 05:56 pm</h5>
											<a class="reply_btn" href="#">Reply</a>
										</div>
									</div>
									<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
										dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
										commodo</p>
								</div>
								<div class="review_item reply">
									<div class="media">
										<div class="d-flex">
											<img src="{% static 'userside/assets/img/product/review-2.png' %}" alt="">
										</div>
										<div class="media-body">
											<h4>Blake Ruiz</h4>
											<h5>12th Feb, 2018 at 05:56 pm</h5>
											<a class="reply_btn" href="#">Reply</a>
										</div>
									</div>
									<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
										dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
										commodo</p>
								</div>
								<div class="review_item">
									<div class="media">
										<div class="d-flex">
											<img src="{% static 'userside/assets/img/product/review-3.png' %}" alt="">
										</div>
										<div class="media-body">
											<h4>Blake Ruiz</h4>
											<h5>12th Feb, 2018 at 05:56 pm</h5>
											<a class="reply_btn" href="#">Reply</a>
										</div>
									</div>
									<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
										dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
										commodo</p>
								</div>
							</div>
						</div>
						<div class="col-lg-6">
							<div class="review_box">
								<h4>Post a comment</h4>
								<form class="row contact_form" action="contact_process.php" method="post" id="contactForm" novalidate="novalidate">
									<div class="col-md-12">
										<div class="form-group">
											<input type="text" class="form-control" id="name" name="name" placeholder="Your Full name">
										</div>
									</div>
									<div class="col-md-12">
										<div class="form-group">
											<input type="email" class="form-control" id="email" name="email" placeholder="Email Address">
										</div>
									</div>
									<div class="col-md-12">
										<div class="form-group">
											<input type="text" class="form-control" id="number" name="number" placeholder="Phone Number">
										</div>
									</div>
									<div class="col-md-12">
										<div class="form-group">
											<textarea class="form-control" name="message" id="message" rows="1" placeholder="Message"></textarea>
										</div>
									</div>
									<div class="col-md-12 text-right">
										<button type="submit" value="submit" class="btn primary-btn">Submit Now</button>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div> {% endcomment %}
				<div class="tab-pane fade show active" id="review" role="tabpanel" aria-labelledby="review-tab">
					<div class="row">
						<div class="col-lg-6">
							<div class="row total_rate">
								<div class="col-6">
									{% comment %} <div class="box_total">
										<h5>Overall</h5>
										<h4>4.0</h4>
										<h6>(03 Reviews)</h6>
									</div> {% endcomment %}
								</div>
								<div class="col-6">
									<div class="rating_list">
										{% comment %} <h3>Based on 3 Reviews</h3>
										<ul class="list">
											<li><a href="#">5 Star <i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i
													 class="fa fa-star"></i><i class="fa fa-star"></i> 01</a></li>
											<li><a href="#">4 Star <i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i
													 class="fa fa-star"></i><i class="fa fa-star"></i> 01</a></li>
											<li><a href="#">3 Star <i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i
													 class="fa fa-star"></i><i class="fa fa-star"></i> 01</a></li>
											<li><a href="#">2 Star <i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i
													 class="fa fa-star"></i><i class="fa fa-star"></i> 01</a></li>
											<li><a href="#">1 Star <i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i
													 class="fa fa-star"></i><i class="fa fa-star"></i> 01</a></li>
										</ul> {% endcomment %}
									</div>
								</div>
							</div>
							<div class="review_list">
								{% if reviews %}
								{% for review in reviews %}
								<div class="review_item">
									<div class="media">
										<div class="d-flex">
											{% comment %} <img src="{% static 'userside/assets/img/product/review-1.png' %}" alt=""> {% endcomment %}
										</div>
										<div class="media-body">
											<h4>{{review.user}}</h4>
											<div style="display: flex; align-items: center;">
												<div class="">
													<div class="star-rating-display" data-rating="{{ review.rating }}">
														<span class="star">&#9733;</span>
														<span class="star">&#9733;</span>
														<span class="star">&#9733;</span>
														<span class="star">&#9733;</span>
														<span class="star">&#9733;</span>
													</div>
												</div>
												<form action="{% url 'product:review_delete' review.id %}" method="post" style="margin-left: 70px;">
													{% csrf_token %}
													<button class="btn btn-danger" type="submit">Delete</button>
												</form>
												
											</div>
										</div>
									</div>
									<p class="revcom">{{review.comment}}</p>
								</div>
								
								
								{% endfor %}
								{% else %}
								<h1>No reviews available</hai>
									{% endif %}
								{% comment %} <div class="review_item">
									<div class="media">
										<div class="d-flex">
											<img src="{% static 'userside/assets/img/product/review-2.png' %}" alt="">
										</div>
										<div class="media-body">
											<h4>Blake Ruiz</h4>
											<i class="fa fa-star"></i>
											<i class="fa fa-star"></i>
											<i class="fa fa-star"></i>
											<i class="fa fa-star"></i>
											<i class="fa fa-star"></i>
										</div>
									</div>
									<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
										dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
										commodo</p>
								</div>
								<div class="review_item">
									<div class="media">
										<div class="d-flex">
											<img src="{% static 'userside/assets/img/product/review-3.png' %}" alt="">
										</div>
										<div class="media-body">
											<h4>Blake Ruiz</h4>
											<i class="fa fa-star"></i>
											<i class="fa fa-star"></i>
											<i class="fa fa-star"></i>
											<i class="fa fa-star"></i>
											<i class="fa fa-star"></i>
										</div>
									</div>
									<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et
										dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
										commodo</p>
								</div> {% endcomment %}
							</div>
						</div>
						<div class="col-lg-6">
							{% comment %} <div class="review_box">
								<h4>Add a Review</h4>
								<p>Your Rating:</p>
								<ul class="list">
									<li><a href="#"><i class="fa fa-star"></i></a></li>
									<li><a href="#"><i class="fa fa-star"></i></a></li>
									<li><a href="#"><i class="fa fa-star"></i></a></li>
									<li><a href="#"><i class="fa fa-star"></i></a></li>
									<li><a href="#"><i class="fa fa-star"></i></a></li>
								</ul>
								<p>Outstanding</p>
								<form class="row contact_form" action="contact_process.php" method="post" id="contactForm" novalidate="novalidate">
									<div class="col-md-12">
										<div class="form-group">
											<input type="text" class="form-control" id="name" name="name" placeholder="Your Full name" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Your Full name'">
										</div>
									</div>
									<div class="col-md-12">
										<div class="form-group">
											<input type="email" class="form-control" id="email" name="email" placeholder="Email Address" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Email Address'">
										</div>
									</div>
									<div class="col-md-12">
										<div class="form-group">
											<input type="text" class="form-control" id="number" name="number" placeholder="Phone Number" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Phone Number'">
										</div>
									</div>
									<div class="col-md-12">
										<div class="form-group">
											<textarea class="form-control" name="message" id="message" rows="1" placeholder="Review" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Review'"></textarea></textarea>
										</div>
									</div>
									<div class="col-md-12 text-right">
										<button type="submit" value="submit" class="primary-btn">Submit Now</button>
									</div>
								</form>
							</div> {% endcomment %}
							<form method="post" class="form-contact comment_form" action="{% url 'product:product_review' products.id %}" id="commentForm">
								{% csrf_token %}
								<h4>Add a Review</h4>
								<div class="row">
									<div class="col-12">
										<div class="form-group">    
											<textarea class="form-control w-100" name="comment" id="comment" cols="30" rows="4" placeholder="Write Comment"></textarea>
										</div>
									</div>
									<div class="starr">
										<div class="star-rating" id="star-rating">
											<span class="star" data-value="1">&#9733;</span>
											<span class="star" data-value="2">&#9733;</span>
											<span class="star" data-value="3">&#9733;</span>
											<span class="star" data-value="4">&#9733;</span>
											<span class="star" data-value="5">&#9733;</span>
										</div>
										<input type="hidden" id="rating" name="rating" value="0">
										
									</div>
								</div>
								{% comment %} <div class="form-group">
									<button type="submit" class="button button-contactForm">Submit Review</button>
								</div> {% endcomment %}
								<div class="col-md-12 text-right">
									<button type="submit" value="" class="primary-btn">Submit Now</button>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div> 
		</div>
	</section>
	<!--================End Product Description Area =================-->

	<!-- Start related-product Area -->
	{% comment %} <section class="related-product-area section_gap_bottom">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-lg-6 text-center">
					<div class="section-title">
						<h1>Deals of the Week</h1>
						<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore
							magna aliqua.</p>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-9">
					<div class="row">
						<div class="col-lg-4 col-md-4 col-sm-6 mb-20">
							<div class="single-related-product d-flex">
								<a href="#"><img src="{% static 'userside/assets/img/r1.jpg' %}" alt=""></a>
								<div class="desc">
									<a href="#" class="title">Black lace Heels</a>
									<div class="price">
										<h6>$189.00</h6>
										<h6 class="l-through">$210.00</h6>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-4 col-md-4 col-sm-6 mb-20">
							<div class="single-related-product d-flex">
								<a href="#"><img src="{% static 'userside/assets/img/r2.jpg' %}" alt=""></a>
								<div class="desc">
									<a href="#" class="title">Black lace Heels</a>
									<div class="price">
										<h6>$189.00</h6>
										<h6 class="l-through">$210.00</h6>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-4 col-md-4 col-sm-6 mb-20">
							<div class="single-related-product d-flex">
								<a href="#"><img src="{% static 'userside/assets/img/r3.jpg' %}" alt=""></a>
								<div class="desc">
									<a href="#" class="title">Black lace Heels</a>
									<div class="price">
										<h6>$189.00</h6>
										<h6 class="l-through">$210.00</h6>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-4 col-md-4 col-sm-6 mb-20">
							<div class="single-related-product d-flex">
								<a href="#"><img src="{% static 'userside/assets/img/r5.jpg' %}" alt=""></a>
								<div class="desc">
									<a href="#" class="title">Black lace Heels</a>
									<div class="price">
										<h6>$189.00</h6>
										<h6 class="l-through">$210.00</h6>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-4 col-md-4 col-sm-6 mb-20">
							<div class="single-related-product d-flex">
								<a href="#"><img src="{% static 'userside/assets/img/r6.jpg' %}" alt=""></a>
								<div class="desc">
									<a href="#" class="title">Black lace Heels</a>
									<div class="price">
										<h6>$189.00</h6>
										<h6 class="l-through">$210.00</h6>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-4 col-md-4 col-sm-6 mb-20">
							<div class="single-related-product d-flex">
								<a href="#"><img src="{% static 'userside/assets/img/r7.jpg' %}" alt=""></a>
								<div class="desc">
									<a href="#" class="title">Black lace Heels</a>
									<div class="price">
										<h6>$189.00</h6>
										<h6 class="l-through">$210.00</h6>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-4 col-md-4 col-sm-6">
							<div class="single-related-product d-flex">
								<a href="#"><img src="{% static 'userside/assets/img/r9.jpg' %}" alt=""></a>
								<div class="desc">
									<a href="#" class="title">Black lace Heels</a>
									<div class="price">
										<h6>$189.00</h6>
										<h6 class="l-through">$210.00</h6>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-4 col-md-4 col-sm-6">
							<div class="single-related-product d-flex">
								<a href="#"><img src="{% static 'userside/assets/img/r10.jpg' %}" alt=""></a>
								<div class="desc">
									<a href="#" class="title">Black lace Heels</a>
									<div class="price">
										<h6>$189.00</h6>
										<h6 class="l-through">$210.00</h6>
									</div>
								</div>
							</div>
						</div>
						<div class="col-lg-4 col-md-4 col-sm-6">
							<div class="single-related-product d-flex">
								<a href="#"><img src="{% static 'userside/assets/img/r11.jpg' %}" alt=""></a>
								<div class="desc">
									<a href="#" class="title">Black lace Heels</a>
									<div class="price">
										<h6>$189.00</h6>
										<h6 class="l-through">$210.00</h6>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-lg-3">
					<div class="ctg-right">
						<a href="#" target="_blank">
							<img class="img-fluid d-block mx-auto" src="{% static 'userside/assets/img/category/c5.jpg' %}" alt="">
						</a>
					</div>
				</div>
			</div>
		</div>
	</section> {% endcomment %}
	<!-- End related-product Area -->

	<!-- start footer Area -->
	<footer class="footer-area section_gap">
		<div class="container">
			<div class="row">
				<div class="col-lg-3  col-md-6 col-sm-6">
					<div class="single-footer-widget">
						<h6>About Us</h6>
						<p>
							Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore dolore
							magna aliqua.
						</p>
					</div>
				</div>
				<div class="col-lg-4  col-md-6 col-sm-6">
					<div class="single-footer-widget">
						<h6>Newsletter</h6>
						<p>Stay update with our latest</p>
						<div class="" id="mc_embed_signup">

							<form target="_blank" novalidate="true" action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01"
							 method="get" class="form-inline">

								<div class="d-flex flex-row">

									<input class="form-control" name="EMAIL" placeholder="Enter Email" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Enter Email '"
									 required="" type="email">


									<button class="click-btn btn btn-default"><i class="fa fa-long-arrow-right" aria-hidden="true"></i></button>
									<div style="position: absolute; left: -5000px;">
										<input name="b_36c4fd991d266f23781ded980_aefe40901a" tabindex="-1" value="" type="text">
									</div>

									<!-- <div class="col-lg-4 col-md-4">
												<button class="bb-btn btn"><span class="lnr lnr-arrow-right"></span></button>
											</div>  -->
								</div>
								<div class="info"></div>
							</form>
						</div>
					</div>
				</div>
				<div class="col-lg-3  col-md-6 col-sm-6">
					<div class="single-footer-widget mail-chimp">
						<h6 class="mb-20">Instragram Feed</h6>
						<ul class="instafeed d-flex flex-wrap">
							<li><img src="{% static 'userside/assets/img/i1.jpg' %}" alt=""></li>
							<li><img src="{% static 'userside/assets/img/i2.jpg' %}" alt=""></li>
							<li><img src="{% static 'userside/assets/img/i3.jpg' %}" alt=""></li>
							<li><img src="{% static 'userside/assets/img/i4.jpg' %}" alt=""></li>
							<li><img src="{% static 'userside/assets/img/i5.jpg' %}" alt=""></li>
							<li><img src="{% static 'userside/assets/img/i6.jpg' %}" alt=""></li>
							<li><img src="{% static 'userside/assets/img/i7.jpg' %}" alt=""></li>
							<li><img src="{% static 'userside/assets/img/i8.jpg' %}" alt=""></li>
						</ul>
					</div>
				</div>
				<div class="col-lg-2 col-md-6 col-sm-6">
					<div class="single-footer-widget">
						<h6>Follow Us</h6>
						<p>Let us be social</p>
						<div class="footer-social d-flex align-items-center">
							<a href="#"><i class="fa fa-facebook"></i></a>
							<a href="#"><i class="fa fa-twitter"></i></a>
							<a href="#"><i class="fa fa-dribbble"></i></a>
							<a href="#"><i class="fa fa-behance"></i></a>
						</div>
					</div>
				</div>
			</div>
			<div class="footer-bottom d-flex justify-content-center align-items-center flex-wrap">
				<p class="footer-text m-0"><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
</p>
			</div>
		</div>
	</footer>
	<!-- End footer Area -->

	<script src="{% static 'userside/assets/js/vendor/jquery-2.2.4.min.js' %}"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
	 crossorigin="anonymous"></script>
	<script src="{% static 'userside/assets/js/vendor/bootstrap.min.js' %}"></script>
	<script src="{% static 'userside/assets/js/jquery.ajaxchimp.min.js' %}"></script>
	<script src="{% static 'userside/assets/js/jquery.nice-select.min.js' %}"></script>
	<script src="{% static 'userside/assets/js/jquery.sticky.js' %}"></script>
	<script src="{% static 'userside/assets/js/nouislider.min.js' %}"></script>
	<script src="{% static 'userside/assets/js/jquery.magnific-popup.min.js' %}"></script>
	<script src="{% static 'userside/assets/js/owl.carousel.min.js' %}"></script>
	<!--gmaps Js-->
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCjCGmQ0Uq4exrzdcL6rvxywDDOvfAu6eE"></script>
	<script src="{% static 'userside/assets/js/gmaps.min.js' %}"></script>
	<script src="{% static 'userside/assets/js/main.js' %}"></script>


<script>
function enableZoom(imgID) {
    const img = document.getElementById(imgID);
    const container = img.parentElement;
    
    let zoom = 2;
    let isZoomed = false;

    container.addEventListener('mousemove', (e) => {
        if (!isZoomed) return;

        const rect = container.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;

        const percentX = x / rect.width;
        const percentY = y / rect.height;

        img.style.transformOrigin = `${percentX * 100}% ${percentY * 100}%`;
    });

    container.addEventListener('mouseenter', () => {
        isZoomed = true;
        img.style.transform = `scale(${zoom})`;
    });

    container.addEventListener('mouseleave', () => {
        isZoomed = false;
        img.style.transform = 'scale(1)';
    });
}

// Initialize zoom for each image when the DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    enableZoom("myimage-0");
    {% for image in images %}
        enableZoom("myimage-{{ forloop.counter }}");
    {% endfor %}
});

</script>
<script>
	document.addEventListener('DOMContentLoaded', function () {
		// Handle review creation/updating stars
		const stars = document.querySelectorAll('.star-rating .star');
		const ratingInput = document.getElementById('rating');
		
		function fillStars(upToIndex, className) {
			stars.forEach((star, index) => {
				if (index <= upToIndex) {
					star.classList.add(className);
				} else {
					star.classList.remove(className);
				}
			});
		}
		
		function clearHoverStars() {
			stars.forEach(star => star.classList.remove('hovered'));
		}
		
		stars.forEach((star, index) => {
			// Handle click event
			star.addEventListener('click', function () {
				ratingInput.value = index + 1;
				fillStars(index, 'selected');
			});
		
			// Handle mouseover event
			star.addEventListener('mouseover', function () {
				clearHoverStars();
				fillStars(index, 'hovered');
			});
		
			// Handle mouseout event
			star.addEventListener('mouseout', function () {
				clearHoverStars();
			});
		});
	
		// Initial rendering based on data-rating attribute for static star displays
		const starContainers = document.querySelectorAll('.star-rating-display');
		starContainers.forEach(container => {
			const rating = parseInt(container.getAttribute('data-rating'));
			const stars = container.querySelectorAll('.star');
		
			stars.forEach((star, index) => {
				if (index < rating) {
					star.classList.add('filled');
				}
			});
		});
	});
	
</script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.9/dist/sweetalert2.all.min.js"></script>

<script>
    let selectedVariantId = null;

    document.addEventListener('DOMContentLoaded', () => {
        // Automatically select the first variant on page load
        const firstVariant = document.querySelector('.variant-box');
        if (firstVariant) {
            firstVariant.classList.add('selected');
            selectedVariantId = firstVariant.getAttribute('data-variant-id');
            document.getElementById('selectedVariantInput').value = selectedVariantId;
        }

        // Attach click event to "Add to Cart" button
        document.getElementById('addToCartBtn').addEventListener('click', function(event) {
            event.preventDefault();
            const variantId = selectedVariantId;
            const quantity = parseInt(document.getElementById('sst').value);

            console.log(variantId);
            console.log(quantity);

            if (!variantId) {
                Swal.fire({
                    icon: 'warning',
                    title: 'No size selected',
                    text: 'Please select a size before adding to cart.',
                });
                return;
            }

            fetch("{% url 'cart:add_to_cart' %}", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                    "X-CSRFToken": "{{ csrf_token }}"
                },
                body: JSON.stringify({
                    variant_id: variantId,
                    quantity: quantity
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    Swal.fire({
                        icon: 'success',
                        title: 'Added to Cart',
                        text: data.message,
                        timer: 3000,
                        showConfirmButton: false,
                        toast: true,
                        position: 'top-right'
                    });
                } else {
					
                    Swal.fire({
                        icon: 'error',
                        title: 'Error',
                        text: data.message,
						timer: 3000,
                        showConfirmButton: false,
                        toast: true,
                        position: 'top-right'
                    });
                }
            })
            .catch(error => {
                console.error('Error:', error);
                Swal.fire({
                    icon: 'error',
                    title: 'Login Please',
                    text: 'Something went wrong! Please try again later.',
                });
            });
        });
    });

    function selectVariant(element) {
        document.querySelectorAll('.variant-box').forEach(box => {
            box.classList.remove('selected');
        });
        element.classList.add('selected');
        selectedVariantId = element.getAttribute('data-variant-id');
        document.getElementById('selectedVariantInput').value = selectedVariantId;
    }

    function incrementQuantity() {
        let qtyInput = document.getElementById('sst');
        let qty = parseInt(qtyInput.value);
        if (qty < 5) {
            qtyInput.value = qty + 1;
        }
    }

    function decrementQuantity() {
        let qtyInput = document.getElementById('sst');
        let qty = parseInt(qtyInput.value);
        if (qty > 1) {
            qtyInput.value = qty - 1;
        }
    }
</script>
<script>
	const csrfToken = '{{ csrf_token }}';
 </script>

<script>
	document.addEventListener('DOMContentLoaded', function() {
		document.querySelector('.icon_btn').addEventListener('click', function (e) {
			e.preventDefault(); // Prevent default anchor click behavior
		
			// Get the selected variant ID from the hidden input field
			var variantId = document.getElementById('selectedVariantInput').value;
		
			// Send the variant ID to the Django view using fetch
			fetch("{% url 'userdash:add_wishlist' %}", {
				method: 'POST',
				headers: {
					'X-CSRFToken': csrfToken, // Include the CSRF token for security
					'Content-Type': 'application/json'
				},
				body: JSON.stringify({ variant_id: variantId }) // Send the variant ID as a JSON object
			})
			.then(response => response.json()) // Parse the JSON response
			.then(data => {
				let icon, title;
				if (data.status === 'success') {
					icon = 'success';
					title = data.message;
				} else if (data.status === 'exists') {
					icon = 'info';
					title = data.message;
				} else {
					icon = 'error';
					title = 'There was an error adding the item to your wishlist.';
				}
				
				Swal.fire({
					toast: true,
					position: 'top-right',
					icon: icon,
					title: title,
					showConfirmButton: false,
					timer: 3000
				});
			})
			.catch(error => {
				console.error('Error:', error); // Log any errors to the console
				Swal.fire({
					toast: true,
					position: 'top-right',
					icon: 'error',
					title: 'Something went wrong. Please try again later.',
					showConfirmButton: false,
					timer: 3000
				});
			});
		});
	
		// Display Django messages using SweetAlert2
		{% if messages %}
			const messages = [
				{% for message in messages %}
					{
						level: "{{ message.tags }}",
						text: "{{ message|escapejs }}"
					},
				{% endfor %}
			];
			messages.forEach(message => {
				Swal.fire({
					toast: true,
					position: 'top-right',
					icon: message.level === 'success' ? 'success' : 'error',
					title: message.text,
					showConfirmButton: false,
					timer: 3000
				});
			});
		{% endif %}
	});
</script>
{% endblock content %}

